
    :root {
        /*  General.
         */
        --GW-body-background-color: #333;
        --GW-body-text-color: #fafafa;
        --GW-body-link-color: #e5e5e5;
        --GW-body-link-hover-color: #999;

        /*  Selection.
         */
        --GW-text-selection-background-color: #dcdcdc;
        --GW-text-selection-color: #000;

        /*  Link underlining.
         */
        --GW-link-underline-background-color: var(--GW-body-background-color);
        --GW-link-underline-gradient-line-color: #dcdcdc;
        --GW-link-underline-gradient-line-color-hover: #8b8b8b;

        /*  Blockquotes.
         */
        --GW-blockquote-border-color-level-one: #5c5c5c;
        --GW-blockquote-border-color-level-two: #646464;
        --GW-blockquote-border-color-level-three: #747474;
        --GW-blockquote-border-color-level-four: #7f7f7f;
        --GW-blockquote-background-color-level-one: #212121;
        --GW-blockquote-background-color-level-two: #3e3e3e;
        --GW-blockquote-background-color-level-three: #4f4f4f;

        /*  Abstracts.
         */
        --GW-abstract-border-color: #6c6c6c;
        --GW-abstract-background-color: var(--GW-blockquote-background-color-level-one);

        /*  Sidebar.
         */
        --GW-sidebar-horizontal-rule-color: #7c7c7c;
        --GW-sidebar-mobile-link-border-color: #fff;

        /*  Table of contents.
         */
        --GW-TOC-border-color: #5c5c5c;
        --GW-TOC-background-color: #212121;
        --GW-TOC-link-hover-background-color: #363636;
        --GW-TOC-link-hover-color: #fff;
        --GW-TOC-link-hover-indicator-bar-color: #5c5c5c;
        --GW-TOC-number-color: #929292;
        --GW-TOC-number-hover-color: #ddd;

        /*  Collapse blocks.
         */
        --GW-collapse-summary-blockquote-hover-color: #333;
        --GW-collapse-disclosure-button-color: #333;
        --GW-collapse-disclosure-button-hover-color: #494949;
        --GW-collapse-disclosure-button-top-part-text-color: #6c6c6c;
        --GW-collapse-disclosure-button-bottom-part-text-color: #7c7c7c;
        --GW-collapse-disclosure-button-text-hover-color: #000;

        /*  Headings.
         */
        --GW-H1-box-shadow-background-color: var(--GW-body-background-color);
        --GW-H1-box-shadow-line-color: #999;
        --GW-H2-bottom-border-color: #999;

        /*  Comments.
         */
        --GW-comment-section-top-border-color: #8b8b8b;

        /*  Lists.
         */
        --GW-bulleted-list-marker-color: #9f9f9f;

        /*  Figures.
         */
        --GW-figure-outline-color: #999;
        --GW-figure-caption-outline-color: #999;

        /*  Epigraphs.
         */
        --GW-epigraph-quotation-mark-color: #9f9f9f;

        /*  Footnotes.
         */
        --GW-footnote-border-color: #7c7c7c;
        --GW-footnote-highlighted-border-color: #7c7c7c;
        --GW-footnotes-section-top-rule-color: #5c5c5c;
        --GW-footnote-backlink-border-color: #fff;
        --GW-footnote-backlink-border-hover-color: #8b8b8b;
        --GW-footnote-backlink-after-bordered-block-background-color: var(--GW-body-background-color);

        /*  Footnote references.
         */
        --GW-footnote-ref-highlight-box-shadow-color: #7c7c7c;
        --GW-footnote-ref-highlight-background-color: rgba(0, 0, 0, 0.75);

        /*  Sidenotes.
         */
        --GW-sidenote-highlight-background-color: var(--GW-body-background-color);
        --GW-sidenote-highlight-box-shadow-color: #7c7c7c;
        --GW-sidenote-border-color: #7c7c7c;
        --GW-sidenote-scrollbar-track-color: var(--GW-body-background-color);
        --GW-sidenote-scrollbar-thumb-color: #7c7c7c;
        --GW-sidenote-scrollbar-thumb-hover-color: #8b8b8b;
        --GW-sidenote-self-link-border-color: #7c7c7c;

        /*  Tables.
         */
        --GW-table-border-color: #fff;
        --GW-table-full-width-background-color: var(--GW-body-background-color);
        --GW-table-caption-border-color: #fff;
        --GW-table-row-horizontal-border-color: #fff;
        --GW-table-cell-vertical-border-color: var(--GW-body-background-color);
        --GW-table-scrollbar-track-color: var(--GW-body-background-color);
        --GW-table-scrollbar-thumb-color: #7c7c7c;
        --GW-table-scrollbar-thumb-hover-color: #8b8b8b;
        --GW-table-scrollbar-border-color: #fff;
        --GW-table-column-heading-hover-background-color: #2b3637;
        --GW-table-sorted-column-heading-background-color: #166983;
        --GW-table-sorted-column-heading-text-color: #000;
        --GW-table-sorted-column-heading-text-shadow-color: #fff;
        --GW-table-zebra-stripe-alternate-row-background-color: #252525;
        --GW-table-row-hover-outline-color: #fff;

        /*  Code blocks.
         */
        --GW-code-element-border-color: #606060;
        --GW-code-element-background-color: #1d1d1d;
        --GW-pre-element-border-color: #606060;
        --GW-pre-element-background-color: #1d1d1d;
        --GW-pre-element-scrollbar-track-color: #1d1d1d;
        --GW-pre-element-scrollbar-thumb-color: #5c5c5c;
        --GW-pre-element-scrollbar-thumb-hover-color: #8b8b8b;

        /*  Syntax highlight theme.
         */
        --GW-syntax-highlight-color-normal: #f1edec;
        --GW-syntax-highlight-color-attribute: #d8deff;
        --GW-syntax-highlight-color-data-type: inherit;
        --GW-syntax-highlight-color-variable: #b4b4b4;
        --GW-syntax-highlight-color-other: inherit;
        --GW-syntax-highlight-color-preprocessor: inherit;
        --GW-syntax-highlight-color-extension: #999;
        --GW-syntax-highlight-color-comment: #999;
        --GW-syntax-highlight-color-control-flow: #b6edaa;
        --GW-syntax-highlight-color-keyword: #d8deff;
        --GW-syntax-highlight-color-operator: #d8deff;
        --GW-syntax-highlight-color-special-char: #94adb6;
        --GW-syntax-highlight-color-built-in: #d8deff;
        --GW-syntax-highlight-color-function: #d8deff;
        --GW-syntax-highlight-color-constant: inherit;
        --GW-syntax-highlight-color-base-n: inherit;
        --GW-syntax-highlight-color-dec-val: inherit;
        --GW-syntax-highlight-color-float: inherit;
        --GW-syntax-highlight-color-information: inherit;
        --GW-syntax-highlight-color-char: inherit;
        --GW-syntax-highlight-color-string: inherit;
        --GW-syntax-highlight-color-verbatim-string: inherit;
        --GW-syntax-highlight-color-alert: #ff815c;
        --GW-syntax-highlight-color-error: #ff4727;
        --GW-syntax-highlight-color-import: #a6a6a6;
        --GW-syntax-highlight-color-special-string: #b4b4b4;

        /*  Math.
         */
        --GW-math-block-background-color: #252525;
        --GW-math-block-scrollbar-border-color: #5c5c5c;
        --GW-math-block-scrollbar-track-color: var(--GW-body-background-color);
        --GW-math-block-scrollbar-thumb-color: #5c5c5c;
        --GW-math-block-scrollbar-thumb-hover-color: #8b8b8b;

        /*  Drop caps.
         */
        --GW-drop-caps-yinit-color: #f9f9f9;
        --GW-drop-caps-yinit-text-shadow-color: #a6a6a6;
        --GW-drop-caps-de-zs-color: #efefef;
        --GW-drop-caps-cheshire-color: #f1f1f1;
        --GW-drop-caps-kanzlei-color: #f1f1f1;

        /*  Admonitions.
         */
        --GW-admonition-default-left-border-color: #929292;
        --GW-admonition-default-background-color: #4f4f4f;
        --GW-admonition-tip-left-border-color: #4f4f4f;
        --GW-admonition-tip-background-color: #303030;
        --GW-admonition-warning-left-border-color: #bdbdbd;
        --GW-admonition-warning-background-color: #8a8a8a;
        --GW-admonition-warning-text-color: #000;
        --GW-admonition-warning-title-background-color: #bdbdbd;
        --GW-admonition-warning-icon-color: #000;
        --GW-admonition-error-left-border-color: #e1e1e1;
        --GW-admonition-error-background-color: #bdbdbd;
        --GW-admonition-error-text-color: #000;
        --GW-admonition-error-title-background-color: #e1e1e1;
        --GW-admonition-error-icon-color: #000;
        --GW-admonition-reversed-link-color: #494949;
        --GW-admonition-reversed-link-color-hover: #5c5c5c;
        --GW-admonition-reversed-link-underline-gradient-line-color: #5c5c5c;
        --GW-admonition-reversed-link-underline-gradient-line-color-hover: #6c6c6c;
        --GW-admonition-reversed-footnote-ref-highlight-background-color: rgba(189, 189, 189, 0.75);

        /*  Sequential nav UI.
         */
        --GW-sequential-nav-link-background-color: var(--GW-body-background-color);

        /*  Page-specific styles.
         */
        --GW-index-page-bottom-ornament-line-color: #9f9f9f;

        /*	Pop-frames (popups or popins).
         */
        --GW-raw-code-popframe-line-highlight-background-color: #181700;
        --GW-raw-code-popframe-line-hightlight-border-color: #494949;
        --GW-raw-code-popframe-line-number-color: #7c7c7c;
        --GW-raw-code-popframe-line-number-divider-color: #5c5c5c;

        /*  Popups.
         */
        --GW-popups-body-background-color: var(--GW-body-background-color);
        --GW-popups-popup-background-color: var(--GW-body-background-color);

        --GW-popups-popup-border-color: #5c5c5c;
        --GW-popups-box-shadow-color: #5c5c5c;
        --GW-popups-popup-border-focused-color: #7c7c7c;
        --GW-popups-box-shadow-focused-color: #7c7c7c;

        --GW-popups-popup-title-bar-background-color: #252525;
        --GW-popups-popup-title-bar-button-color: #6c6c6c;
        --GW-popups-popup-title-bar-button-color-hover: #fff;
        --GW-popups-popup-title-color: #7c7c7c;
        --GW-popups-popup-title-link-hover-color: var(--GW-body-link-hover-color);
        --GW-popups-popup-title-bar-background-focused-color: #3e3e3e;
        --GW-popups-popup-title-bar-button-focused-color: #a6a6a6;
        --GW-popups-popup-title-bar-button-focused-color-hover: #fff;
        --GW-popups-popup-title-bar-submenu-box-shadow-color: #494949;
        --GW-popups-popup-title-focused-color: #fff;
        --GW-popups-popup-title-link-hover-focused-color: var(--GW-body-link-hover-color);

        --GW-popups-popup-scrollbar-track-color: var(--GW-body-background-color);

        --GW-popups-popup-scrollbar-thumb-color: #494949;
        --GW-popups-popup-scrollbar-thumb-hover-color: #6c6c6c;
        --GW-popups-popup-scrollbar-thumb-focused-color: #5c5c5c;
        --GW-popups-popup-scrollbar-thumb-hover-focused-color: #8b8b8b;

        --GW-popups-popup-options-dialog-backdrop-background-color: rgba(0, 0, 0, 0.95);
        --GW-popups-popup-options-dialog-background-color: var(--GW-body-background-color);
        --GW-popups-popup-options-dialog-border-color: #7c7c7c;
        --GW-popups-popup-options-dialog-box-shadow-color: #cecece;
        --GW-popups-popup-options-dialog-horizontal-rule-color: #5c5c5c;
        --GW-popups-popup-options-dialog-button-background-color: var(--GW-body-background-color);
        --GW-popups-popup-options-dialog-button-text-color: #fff;
        --GW-popups-popup-options-dialog-button-border-color: #fff;
        --GW-popups-popup-options-dialog-button-hover-box-shadow-color: #fff;
        --GW-popups-popup-options-dialog-option-button-explanation-text-color: #a6a6a6;
        --GW-popups-popup-options-dialog-option-button-hover-text-color: #a6a6a6;
        --GW-popups-popup-options-dialog-radio-button-border-color: #fff;
        --GW-popups-show-popup-options-dialog-button-color: #8b8b8b;

        /*  Popins.
         */
        --GW-popins-body-background-color: var(--GW-body-background-color);
        --GW-popins-popin-background-color: var(--GW-body-background-color);
        --GW-popins-popin-border-color: #7c7c7c;
        --GW-popins-box-shadow-color: #7c7c7c;
        --GW-popins-popin-title-bar-background-color: #000;
        --GW-popins-popin-title-bar-button-color: #a6a6a6;
        --GW-popins-popin-scrollbar-thumb-color: #5c5c5c;
        --GW-popins-popin-scrollbar-track-color: var(--GW-body-background-color);
        --GW-popins-popin-scrollbar-thumb-hover-color: #8b8b8b;
        --GW-popins-popin-stack-counter-text-color: #000;

        /*  Image focus.
         */
        --GW-image-focus-image-hover-drop-shadow-color: #a6a6a6;

        /*  Mode selector (light/dark mode).
         */
        --GW-mode-selector-background-color: var(--GW-body-background-color);
        --GW-mode-selector-border-hover-color: #7c7c7c;
        --GW-mode-selector-button-text-color: #a6a6a6;
        --GW-mode-selector-button-hover-text-color: #fff;

        /*	“Back to top” link.
         */
        --GW-back-to-top-link-color: #5c5c5c;
        --GW-back-to-top-link-hover-color: #8b8b8b;
    }
    :root {
        /*  Adjust background color to prevent pixels from turning off.
         */
        --GW-body-background-color: #111;

        /*  Adjust this one color in the syntax highlighting color scheme to make it
         *        less saturated. (The automatic inversion algorithm doesn’t quite handle
         *        it in the way we want.)
         */
        --GW-syntax-highlight-color-control-flow: #cce1c8;
    }

    /*  The ‘fill’ attribute of the SVGs is modified in dark mode.
     *    (We cannot use an invert filter because we don’t want to invert the whole
     *     element, only the background-image.)
     */
    .collapse .disclosure-button::before {
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z" fill="%235C5C5C"></path></svg>');
    }
    .collapse .disclosure-button:hover::before {
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z" fill="%23000"></path></svg>');
    }
    .collapse .disclosure-button:checked::before {
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z" fill="%235C5C5C"></path></svg>');
    }
    .collapse .disclosure-button:checked:hover::before {
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z" fill="%23000"></path></svg>');
    }

    /*  The ‘celestial symbol’ horizonal rules are SVGs and must be inverted.
     */
    hr::after,
.horizontalRule-nth-0 hr::after {
    opacity: 1;
    filter: invert(1) drop-shadow(0 0 0 currentColor);
}
.horizontalRule-nth-1 hr::after {
    opacity: 0.75;
    filter: invert(1);
}
.horizontalRule-nth-2 hr::after {
    opacity: 0.85;
    filter: invert(1);
}

/*  Drop cap opacity adjustment.
 */
.drop-cap-goudy::first-letter,
.drop-cap-goudy > p::first-letter {
    opacity: 0.95;
}

/*  Admonition icons.
 */
.admonition.tip::before,
.admonition.note::before,
.admonition.warn::before,
.admonition.warning::before,
.admonition.error::before {
    filter: invert(1);
}

div.admonition.warn,
div.admonition.warning,
div.admonition.error {
    --GW-dotted-underline-background-image: var(--GW-dotted-underline-hover-dark-background-image);
}

/*  List bullets are SVGs and have to be inverted.
 */
ul > li::before {
    filter: invert(1);
}

/*  Exclusion for TOC entries.
 */
#TOC ul > li::before {
filter: none;
}

/*  For sortable table column headings, we use dark versions of the up/down/both
 *    arrow icons.
 */
table th.tablesorter-header {
    background-image: url('/assets/img/tablesorter-bg-dark.gif');
}
table th.tablesorter-headerAsc {
    background-image: url('/assets/img/tablesorter-asc-dark.gif');
}
table th.tablesorter-headerDesc {
    background-image: url('/assets/img/tablesorter-desc-dark.gif');
}

/*  The pixel-grid-checkerboard pattern of these scroll bars is created by GIF
 *    background-images; we use alternate versions of the images in dark mode.
 */
.table-wrapper::-webkit-scrollbar-thumb {
    background-image: url('data:image/gif;base64,R0lGODlhBAAEAPAAMQAAAIiIiCwAAAAABAAEAAACBkwAhqgZBQA7');
}
.table-wrapper::-webkit-scrollbar-thumb:hover {
    background-image: url('data:image/gif;base64,R0lGODlhBAAEAPAAMQAAAL+/vywAAAAABAAEAAACBkwAhqgZBQA7');
}

.sidenote.cut-off .sidenote-outer-wrapper::-webkit-scrollbar-thumb {
    background-image: url('data:image/gif;base64,R0lGODlhBAAEAPAAMQAAAIiIiCwAAAAABAAEAAACBkwAhqgZBQA7');
}
.sidenote.cut-off .sidenote-outer-wrapper::-webkit-scrollbar-thumb:hover {
    background-image: url('data:image/gif;base64,R0lGODlhBAAEAPAAMQAAAL+/vywAAAAABAAEAAACBkwAhqgZBQA7');
}

/*  Images that are marked as invertible by the server are inverted,
 *    hue-rotated, and desaturated. Other (non-invertible) images are merely
 *    desaturated. Hovering over an image restores it to its original state.
 */
img.invertible,
img.invertible-auto {
    filter: grayscale(50%) invert(100%) brightness(95%) hue-rotate(180deg);
}
/*img:not(.invertible):not(.invertible-auto) {
    filter: grayscale(50%);
}
*/
img,
img.invertible,
img.invertible-auto {
    transition: filter 0.25s ease;
}
img:hover,
img.invertible:hover,
img.invertible-auto:hover {
    filter: none;
    transition: filter 0s ease 0.25s;
}

/*  The loading spinner for object popups (image, iframe, object) is inverted
 *    and made more visible in dark mode.
 */
.popupdiv.loading::before {
    filter: invert(1);
    opacity: 0.4;
}

/*  “Loading failed” messages for object popups.
 */
.popupdiv.loading-failed::after {
    opacity: 0.4;
}

/*  The mode selector is adjusted to be better visible in dark mode, and its
 *    button icons inverted.
 */
div#mode-selector {
    opacity: 0.6;
}
div#mode-selector button::before {
    filter: invert(1);
    opacity: 0.45;
}
div#mode-selector button.select-mode-light::before {
    opacity: 0.55;
}

/*  The dotted underline for Wikipedia links is created by a
 *    pixel-grid-checkerboard background-image. We use an alternate version of
 *    this image in dark mode.
 */
.markdownBody a[href*='wikipedia.org'].docMetadata:hover,
.markdownBody a[href*='wikimedia.org'].docMetadata:hover,
.markdownBody a[href*='wiktionary.org'].docMetadata:hover,
.markdownBody a[href*='wikimediafoundation.org'].docMetadata:hover,
.markdownBody a[href*='wikisource.org'].docMetadata:hover {
    background-image: var(--GW-dotted-underline-hover-dark-background-image);
}

/*  All SVG linkicons have to be inverted.
 */
a.link-self.identifier-link-up::after,
a.link-self.identifier-link-down::after,
a[href*="oxyde.ga"]::after,
a[href$='.pdf' i]::after,
a[href$='/pdf' i]::after,
a[href*='/pdf/' i]::after,
a[href$='type=pdf' i]::after,
a[href*='.pdf#' i]::after,
a[href*='pdfs.semanticscholar.org' i]::after,
a[href$='.epub' i]::after,
a[href*='citeseerx.ist.psu.edu' i]::after,
a[href*='eprint.iacr.org' i]::after,
a[href$='.opml' i]::after,
a[href$='.txt' i]::after,
a[href$='.xml' i]::after,
a[href$='.css' i]::after,
a[href$='.hs' i]::after,
a[href$='.js' i]::after,
a[href$='.json' i]::after,
a[href$='.jsonl' i]::after,
a[href^='/'][href$='.php' i]::after,
a[href$='.conf' i]::after,
a[href$='.sh' i]::after,
a[href$='.R' i]::after,
a[href$='.patch' i]::after,
a[href$='.diff' i]::after,
a[href^="/static/" i][href$=".html" i]::after,
a[href$='.doc' i]::after,
a[href$='.docx' i]::after,
a[href*='docs.google.com' i]::after,
a[href$='.xls' i]::after,
a[href$='.xlsx' i]::after,
a[href$='.ods' i]::after,
a[href$='.csv' i]::after,
a[href$='.gif' i]::after,
a[href$='.bmp' i]::after,
a[href$='.ico' i]::after,
a[href$='.jpg' i]::after,
a[href$='.jpeg' i]::after,
a[href$='.png' i]::after,
a[href$='.svg' i]::after,
a[href$='.xcf' i]::after,
a[href*='imgur.com']::after,
a[href$='.mp3' i]::after,
a[href$='.wav' i]::after,
a[href$='.flac' i]::after,
a[href$='.ogg' i]::after,
a[href$='.rm' i]::after,
a[href$='.swf' i]::after,
a[href$='.avi' i]::after,
a[href$='.mp4' i]::after,
a[href$='.webm' i]::after,
a[href$='.tar' i]::after,
a[href$='.zip' i]::after,
a[href$='.xz'  i]::after,
a[href$='.img' i]::after,
a[href$='.bin' i]::after,
a[href$='.pkl' i]::after,
a[href$='.onnx' i]::after,
a[href$='.pt' i]::after,
a[href$='.ebt' i]::after,
a[href$='.mdb' i]::after,
a[href$='.mht' i]::after,
a[href$='.ttf' i]::after,
a[href*='biorxiv.org']::after,
a[href*='medrxiv.org']::after,
a[href*='substack.com']:not([href*=astralcodexten])::after,
a[href*='scholar.google.com']::after,
a[href*='plosone.org']::after,
a[href*='plosmedicine.org']::after,
a[href*='plos.org']::after,
a[href*='www.plos']::after,
a[href*='patreon.com']::after,
a[href*='uptontea.com']::after,
a[href*='wired.com']::after,
a[href*='washingtonpost.com']::after,
a[href*='nytimes.com']::after,
a[href*='nlm.nih.gov']::after,
a[href*='newyorker.com']::after,
a[href*='theguardian.com']::after,
a[href*='www.guardian.co.uk']::after,
a[href*='reddit.com']::after,
a[href*='paulgraham.com']::after,
a[href*='ycombinator.com']::after,
a[href*='intelligence.org']::after,
a[href*='deepmind']::after,
a[href*='docs/.*/*.pdf#deepmind']::after,
a[href*='openai']::after,
a[href$='.pdf#openai']::after,
a[href*='distill.pub']::after,
a[href*='twitter.com']::after,
a[href*='nitter.cc']::after,
a[href*='erowid.org']::after,
a[href*='wikipedia.org']::after,
a[href*='wikimedia.org']::after,
a[href*='wiktionary.org']::after,
a[href*='wikimediafoundation.org']::after,
a[href*='wikisource.org']::after,
a[href*='youtube.com']::after,
a[href*='youtu.be']::after,
a[href*='soundcloud.com']::after,
a[href*='bandcamp.com']::after,
a[href*='overflow.net']::after,
a[href*='overflow.com']::after,
a[href*='stackexchange.com']::after,
a[href*='amazon.com']::after,
a[href*='amazon.co.']::after,
a[href*='amzn.com'  ]::after,
a[href*='github.com']::after,
a[href*='dropbox.com']::after,
a[href*='dropboxusercontent.com']::after,
a[href*='mega.nz']::after,
a[href*='webcitation.org'   ]::after,
a[href*='mementoweb.org'    ]::after,
a[href*='archive.org'       ]::after,
a[href*='archive-it.org'    ]::after,
a[href*='archiveteam.org'   ]::after,
a[href*='waybackmachine.org']::after,
a.local-archive-link::after,
a[href*="tumblr.com"]::after,
a[href*="t.umblr.com"]::after,
a[href*="#facebook"]::after,
a[href*="#facebook"][href*="arxiv.org"]::after,
a[href*='docs/.*/*.pdf#.*facebook']::after,
a[href*="facebook.com"]::after,
a[href*="bitcointalk.org"]::after,
a[href*="bitcoin.it"]::after,
a[href*="www.google.com"]::after,
a[href*="#google"]::after,
a[href*="#org=google"]::after,
a[href*="#google"][href*="arxiv.org"]::after,
a[href*="#org=google"][href*="arxiv.org"]::after,
a[href*='docs/.*/*.pdf#.*google']::after,
a[href*='docs/.*/*.pdf#org=google']::after {
    filter: invert(1);
}

/* Based on: the `friendly_grayscale' and `algol_nu` styles, and tweaked
 *   after that.
 *
 * Tweaks mostly inspired by the stimmung-themes: https://github.com/motform/stimmung-themes
 */

td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.hll { background-color: #ffffcc }
.c { color: var(--fg-comment); font-style: italic } /* Comment */
.err { border: 1px solid #898989 } /* Error */
.highlight-bqn .err { color: var(--fg); border: none; } /* Ignore errors in BQN, since the parser is not that good */
.k { font-weight: bold } /* Keyword */
.o { font-weight: bold }   /* Operator */
.highlight-bqn     .o { font-weight: normal } /* Operator */
.highlight-tex     .o { font-weight: normal } /* Operator */
.highlight-console .o { font-weight: normal } /* Operator */
.p { } /* Punctuation */
.highlight-bqn .py { color: var(--fg-bqn-2-mod) }
.ch { color: var(--fg-comment2); font-style: italic } /* Comment.Hashbang */
.cm { color: var(--fg-comment2); font-style: italic } /* Comment.Multiline */
.cp { color: var(--fg-comment2); font-weight: bold } /* Comment.Preproc */
.cpf { color: var(--fg-comment2); font-style: italic } /* Comment.PreprocFile */
.c1 { color: var(--fg-comment2); font-style: italic } /* Comment.Single */
.cs { color: var(--fg-comment2); font-weight: bold } /* Comment.Special */
.gd { color: #545454 } /* Generic.Deleted */
.highlight-diff .gd { color: var(--fg-diff-deleted) } /* Generic.Deleted */
.ge { font-style: italic } /* Generic.Emph */
.gr { color: #898989 } /* Generic.Error */
.gh { color: var(--fg-output); font-weight: bold } /* Generic.Heading */
.gi { color: #7D7D7D } /* Generic.Inserted */
.highlight-diff .gi { color: var(--fg-diff-added) } /* Generic.Inserted */
.go { color: var(--fg-output) } /* Generic.Output */
.gp { font-weight: bold } /* Generic.Prompt */
.highlight-console .gp { color: var(--fg-bqn-1-mod); font-weight: normal } /* Generic.Prompt */
.gs { font-weight: bold } /* Generic.Strong */
.gu { color: var(--fg-keyword); font-weight: bold } /* Generic.Subheading */
.gt { color: #6D6D6D } /* Generic.Traceback */
.kc { color: var(--fg-keyword); font-weight: bold } /* Keyword.Constant */
.highlight-Python .kc { color: var(--fg-bqn-1-mod) } /* Keyword.Constant */
.kd { color: var(--fg-keyword); font-weight: bold } /* Keyword.Declaration */
.highlight-bqn .kd { color: var(--fg-bqn-2-mod); font-weight: bold } /* Keyword.Declaration */
.kn { color: var(--fg-keyword); font-weight: bold } /* Keyword.Namespace */
.highlight-Python .kn { color: var(--fg) } /* Keyword.Reserved */
.kp { color: var(--fg-keyword); font-weight: bold } /* Keyword.Pseudo */
.kr { font-weight: bold } /* Keyword.Reserved */
.kt { background-color: var(--bg-code-accent) } /* Keyword.Type */
.highlight-bqn .kt { color: var(--fg); background-color: var(--bg) } /* Keyword.Type */
.m { color: var(--fg-output) } /* Literal.Number */
.s { color: var(--fg-string) } /* Literal.String */
.na { color: var(--fg-output) } /* Name.Attribute */
.highlight-bqn .na { color: var(--fg-bqn-1-mod) } /* Name.Attribute */
.highlight-tex .na { color: var(--fg) } /* Name.Attribute */
.nb { font-weight: bold } /* Name.Builtin */
.highlight-Python  .nb { color: var(--fg-bqn-1-mod) } /* Name.Builtin */
.highlight-tex     .nb { font-weight: normal } /* Name.Builtin */
.highlight-console .nb { font-weight: normal } /* Name.Builtin */
.nc { color: var(--fg-nameclass); font-weight: bold } /* Name.Class */
.no { } /* Name.Constant */
.nd { color: #555555; font-weight: bold } /* Name.Decorator */
.ni { color: #848484; font-weight: bold } /* Name.Entity */
.highlight-bqn .ni { color: var(--fg-bqn-sub) } /* Name.Entity */
.ne { color: var(--fg-exception) } /* Name.Exception */
.nf { font-weight: bold   } /* Name.Function */
.highlight-emacs-lisp .nf { font-weight: normal } /* Name.Function */
.nl { color: #363636; font-weight: bold } /* Name.Label */
.nn { background-color: var(--bg-code-accent) } /* Name.Namespace */
.highlight-Python .nn { background-color: var(--bg) } /* Name.Namespace */
.nt { color: var(--fg-nametag); font-weight: bold } /* Name.Tag */
.nv {  } /* Name.Variable */
.highlight-bqn .nv { color: var(--fg-bqn-sub) } /* Name.Variable */
.highlight-tex .nv { font-weight: bold } /* Name.Variable */
.ow { font-weight: bold } /* Operator.Word */
.w { color: #bbbbbb } /* Text.Whitespace */
.mb { color: var(--fg-comment) } /* Literal.Number.Bin */
.mf {  } /* Literal.Number.Float */
.mh {  } /* Literal.Number.Hex */
.mi {  } /* Literal.Number.Integer */
.mo {  } /* Literal.Number.Oct */
.sa { color: var(--fg-string) } /* Literal.String.Affix */
.sb { color: var(--fg-string) } /* Literal.String.Backtick */
.sc { color: var(--fg-string) } /* Literal.String.Char */
.dl { color: var(--fg-string) } /* Literal.String.Delimiter */
.sd { color: var(--fg-string);  font-style: italic } /* Literal.String.Doc */
.s2 { color: var(--fg-string) } /* Literal.String.Double */
.highlight-bqn    .s2 { color: var(--fg-bqn-string) } /* Literal.String.Double */
.highlight-Python .s2 { color: var(--fg-bqn-string) } /* Literal.String.Double */
.se { color: var(--fg-string);  font-weight: bold } /* Literal.String.Escape */
.sh { color: var(--fg-string) } /* Literal.String.Heredoc */
.si { color: #9F9F9F } /* Literal.String.Interpol */
.highlight-Python .si { color: var(--fg) } /* Literal.String.Interpol */
.sx { color: var(--fg-nameclass) } /* Literal.String.Other */
.highlight-bqn .sx { color: var(--fg-bqn-string) } /* Literal.String.Other */
.sr { color: var(--fg-exception) } /* Literal.String.Regex */
.s1 { color: #717171 } /* Literal.String.Single */
.highlight-bqn     .s1 { color: var(--fg-bqn-string) } /* Literal.String.Single */
.highlight-console .s1 { color: var(--fg-bqn-string) } /* Literal.String.Single */
.ss { color: var(--fg-literal) } /* Literal.String.Symbol */
.highlight-bqn .ss { color: var(--fg-bqn-string) } /* Literal.String.Symbol */
.bp { color: var(--fg-exception) } /* Name.Builtin.Pseudo */
.fm { color: #3F3F3F } /* Name.Function.Magic */
.vc { color: var(--fg-variable) } /* Name.Variable.Class */
.vg { color: var(--fg-variable) } /* Name.Variable.Global */
.vi { color: var(--fg-variable) } /* Name.Variable.Instance */
.vm { color: var(--fg-variable) } /* Name.Variable.Magic */
.highlight-Python .vm { color: var(--fg-bqn-1-mod) } /* Name.Variable.Magic */
.il { color: var(--fg-comment) } /* Literal.Number.Integer.Long */
